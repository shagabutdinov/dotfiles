"3.8.2 (created: 2014/02/13 23:52:43)

set hintchars=abcdefghijklmnopqrstuvwxyz
source! /home/leo/.vimperatorrc.local
set gui=none
set editor=subl3
" vim: set ft=vimperator:

set focuscontent
map q :tabonly<CR>
colorscheme darkness
highlight Hint font-size:12px; color:white; background-color:black; padding:2px; text-transform:uppercase; border-radius:5px; border:1px solid white;

:inoremap <C-a> <Ins><C-a><Ins>
inoremap <ESC> <ESC> | :js content.document.querySelector(':focus') && window.setTimeout(function() { content.document.querySelector(':selected').blur() })<CR>

noremap <C-e> <C-u>

noremap I :js toggle_bottombar('on')<CR><Insert>
noremap ia :redmineOpenAllIssues<CR>
noremap ic :redmineSetIssueStatus 5<CR> | :redmineSaveIssue<CR>
noremap ir :redmineReplyIssue 5<CR>
noremap is :redmineSaveIssue<CR>
noremap ip :redmineSetProject 42<CR> | :redmineSetAssignee 17<CR> | :js window.setTimeout(function() { content.document.querySelector('#issue_estimated_hours') })<CR>

noremap xR :source .vimperatorrc<CR>
noremap E :js toggle_bottombar('on')<CR> | :open http://rm.idfly.ru/projects/
noremap e :js toggle_bottombar('on')<CR> | :open http://rm.idfly.ru/issues/
noremap xt :open http://rm.idfly.ru/projects/todo-shagabutdinov-idfly-ru/issues<CR>

silent qmark y http://youtube.com/

noremap xc :silent execute "!chromium \"" + content.location.href + "\" &"<CR>

set hto=300

"javascript to hide statusbar
noremap <silent> <F8> :js toggle_bottombar()<CR>
noremap : :js toggle_bottombar('on')<CR>:
noremap o :js toggle_bottombar('on')<CR>o
noremap O :js toggle_bottombar('on')<CR>O
noremap t :js toggle_bottombar('on')<CR>t
noremap T :js toggle_bottombar('on')<CR>t
noremap / :js toggle_bottombar('on')<CR>/
cnoremap <CR> <CR>:js toggle_bottombar('off')<CR>
cnoremap <Esc> <Esc>:js toggle_bottombar('off')<CR>

:js << EOF
function toggle_bottombar(p) {
    var bb = document.getElementById('liberator-bottombar');
    if (!bb)
        return;
    if (p == 'on'){
        bb.style.height = '';
        bb.style.overflow = '';
        return;
    }
    if (p == 'off'){
        bb.style.height = '0px';
        bb.style.overflow = 'hidden';
        return;
    }
    bb.style.height = (bb.style.height == '') ? '0px' : '';
    bb.style.overflow = (bb.style.height == '') ? '' : 'hidden';
}
EOF
