{
  "default_storage": "main",

  "storages": {
    "main": {
      "type": "github",
      "url": "git://github.com/shagabutdinov/dotfiles"
    }
  },

  "synchronize": [
    {"type": "storage-git", "name": "main", "on": "pull"},
    {"type": "file", "path": "~/.config/dotfiles-manager/config.json"},
    {"type": "reload", "on": "pull"},

    // folders
    {"type": "file", "path": "~/bin"},
    {"type": "file", "path": "~/.config/dunst"},
    {"type": "file", "path": "~/.i3"},

    // files
    {"type": "file", "path": "~/.Xresources"},
    {"type": "file", "path": "~/.gitconfig"},
    {"type": "file", "path": "~/.gtkrc-2.0"},
    {"type": "file", "path": "~/.gtkrc-2.0.mine"},
    {"type": "file", "path": "~/.xinitrc"},
    {"type": "file", "path": "~/.vimperatorrc"},
    {"type": "file", "path": "~/.zshrc"},

    // root
    {"type": "file", "path": "/etc/pacman.conf"},

    // pacman keys
    {
      "type": "package-pacman-key",
      "keys": [
        "962DDE58"
      ]
    }, 

    // pacman packages
    {
      "type": "package-pacman",
      "packages": [
        "infinality-bundle",
        "thunar",
        "dunst",
        "xf86-input-synaptics",
        "xorg-xset",
        "xorg-xmodmap",
        "xorg-xrandr",
        "terminus-font",

        "git",

        "firefox",
        "chromium"
      ],
      "on": "pull"
    },

    // install yaourt if necessary
    {
      "type": "ruby-script",
      "script": "'::DotfilesManager::PackageYaourt.install'",
      "on": "pull"
    },

    // yaourt packages
    {
      "type": "package-yaourt",
      "packages": [
        "oh-my-zsh-git"
      ],
      "on": "pull"
    },

    {
      "type": "storage-git",
      "name": "main",
      "on": "push"
    }
  ]

}