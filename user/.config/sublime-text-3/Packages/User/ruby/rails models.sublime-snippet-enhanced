<snippets>

	<snippet>
		<content><![CDATA[
validates :$1, $0
]]></content>
		<tabTrigger>v</tabTrigger>
		<scope>source.ruby</scope>
		<context>
			[
				{"key": "in_class_definition", "operator": "equal", "operand": true},
			]
		</context>
		<description>rails models: validates</description>
	</snippet>

	<snippet>
		<content><![CDATA[
presence: true
]]></content>
		<commands>
			[
				{"command": "ensure_space_before"},
				"RUN",
			]
		</commands>
		<trigger>p</trigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": ",\\s*p"},
				{"key": "statement", "operator": "regex_contains", "operand": "^validates"},
			]
		</context>
		<description>rails models: validates presence</description>
	</snippet>

	<snippet>
		<content><![CDATA[
inclusion: {in: [$0]}
]]></content>
		<commands>
			[
				{"command": "ensure_space_before"},
				"RUN",
			]
		</commands>
		<trigger>in</trigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": ",\\s*i"},
				{"key": "statement", "operator": "regex_contains", "operand": "^validates"},
			]
		</context>
		<description>rails models: validates inclusion</description>
	</snippet>

	<snippet>
		<content><![CDATA[
has_one :$1
]]></content>
		<commands>
			[
				{"command": "ensure_space_before"},
				"RUN",
			]
		</commands>
		<tabTrigger>ho</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "in_class_definition", "operator": "equal", "operand": true},
			]
		</context>
		<description>rails models: has one</description>
	</snippet>

	<snippet>
		<content><![CDATA[
has_many :$1
]]></content>
		<commands>
			[
				{"command": "ensure_space_before"},
				"RUN",
			]
		</commands>
		<tabTrigger>hm</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "in_class_definition", "operator": "equal", "operand": true},
			]
		</context>
		<description>rails models: has many</description>
	</snippet>

	<snippet>
		<content><![CDATA[
belongs_to :$1
]]></content>
		<commands>
			[
				{"command": "ensure_space_before"},
				"RUN",
			]
		</commands>
		<tabTrigger>bo</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "in_class_definition", "operator": "equal", "operand": true},
			]
		</context>
		<description>rails models: belongs to</description>
	</snippet>

	<snippet>
		<content><![CDATA[
accepts_nested_attributes_for :$1, {allow_destroy: true}
]]></content>
		<commands>
			[
				{"command": "ensure_space_before"},
				"RUN",
			]
		</commands>
		<tabTrigger>an</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "in_class_definition", "operator": "equal", "operand": true},
			]
		</context>
		<description>rails models: accepts_nested_attributes_for</description>
	</snippet>

	<snippet>
		<content><![CDATA[
where($1)
]]></content>
		<tabTrigger>w</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.w$"},
			]
		</context>
		<description>rails models: where</description>
	</snippet>

	<!-- callbacks -->

	<snippet>
		<content><![CDATA[
after_initialize $0
]]></content>
		<tabTrigger>ai</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*ai$"},
			]
		</context>
		<description>rails models: after_initialize</description>
	</snippet>

	<snippet>
		<content><![CDATA[
before_destroy $0
]]></content>
		<tabTrigger>bd</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*bd$"},
			]
		</context>
		<description>rails models: before_destroy</description>
	</snippet>

	<snippet>
		<content><![CDATA[
before_validation $0
]]></content>
		<tabTrigger>bv</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*bv$"},
			]
		</context>
		<description>rails models: before_validation</description>
	</snippet>

	<snippet>
		<content><![CDATA[
after_validation $0
]]></content>
		<tabTrigger>av</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*av$"},
			]
		</context>
		<description>rails models: after_validation</description>
	</snippet>

	<snippet>
		<content><![CDATA[
before_save $0
]]></content>
		<tabTrigger>bs</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*bs$"},
			]
		</context>
		<description>rails models: before_save</description>
	</snippet>

	<snippet>
		<content><![CDATA[
before_create $0
]]></content>
		<tabTrigger>bc</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*bc$"},
			]
		</context>
		<description>rails models: before_create</description>
	</snippet>

	<snippet>
		<content><![CDATA[
after_create $0
]]></content>
		<tabTrigger>ac</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*ac$"},
			]
		</context>
		<description>rails models: after_create</description>
	</snippet>

	<snippet>
		<content><![CDATA[
after_save $0
]]></content>
		<tabTrigger>as</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*as$"},
			]
		</context>
		<description>rails models: after_save</description>
	</snippet>

	<snippet>
		<content><![CDATA[
after_commit $0
]]></content>
		<tabTrigger>aco</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "^\\s*aco$"},
			]
		</context>
		<description>rails models: after_commit</description>
	</snippet>

	<snippet>
		<content><![CDATA[
connection.execute($1)
]]></content>
		<tabTrigger>ce</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.ce$"},
			]
		</context>
		<description>rails models: connection execute</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
connection.quote($1)
]]></content>
		<tabTrigger>cq</tabTrigger>
		<scope>source\.ruby\s*$</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.cq$"},
			]
		</context>
		<description>rails models: connection quote</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
to_sql
]]></content>
		<tabTrigger>q</tabTrigger>
		<scope>source\.ruby</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.q$"},
			]
		</context>
		<description>rails models: to_sql</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
where(${1:$selection})
]]></content>
		<tabTrigger>w</tabTrigger>
		<scope>source\.ruby</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.w$"},
			]
		</context>
		<description>rails models: where</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
exists?(${1:$selection})
]]></content>
		<tabTrigger>w</tabTrigger>
		<scope>source\.ruby</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.w$"},
			]
		</context>
		<description>rails models: exists</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
update(${1:$selection})
]]></content>
		<tabTrigger>u</tabTrigger>
		<scope>source\.ruby</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.u$"},
			]
		</context>
		<description>rails models: update</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
update!(${1:$selection})
]]></content>
		<trigger>uu</trigger>
		<scope>source\.ruby</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.uu$"},
			]
		</context>
		<description>rails models: update!</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
attributes
]]></content>
		<tabTrigger>at</tabTrigger>
		<scope>source\.ruby</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.at$"},
			]
		</context>
		<description>rails models: update!</description>
		<order>1</order>
	</snippet>

	<snippet>
		<content><![CDATA[
as_json($0)
]]></content>
		<tabTrigger>aj</tabTrigger>
		<scope>source\.ruby</scope>
		<context>
			[
				{"key": "preceding_text_begin", "operator": "regex_contains", "operand": "\\.aj$"},
			]
		</context>
		<description>rails models: .as_json</description>
	</snippet>

</snippets>