constructor typescript:
  context: |
    document().languageId.match("^(type|java)script(react)?$") &&
      document().uri.fsPath.startsWith('/home/leo/src/constructor/website')
  snippets:
    jests:
      context: document().uri.toString().endsWith('.test.ts')
      snippets:
        with router:
          trigger: wr
          snippet: const [Subject] = withRouter($1:component{Component})
          context: cursor.precedingText().match('\n[ ]*\w+$')
          onExpand:
            command: imports.add
            args:
              value: default
              alias: withRouter
              from: 'utils/tests/withRouter'
          placeholders:
            component:
              onBeforeExpand: |
                ({ document }) => (
                  document.uri.toString().match('/([^/]+).test.tsx$') || []
                )[1]

        with router tail:
          trigger: wr
          snippet: withRouter
          context: cursor.precedingText().match('\S[ ]*\w+$')
          onExpand:
            command: imports.add
            args:
              value: default
              alias: withRouter
              from: 'utils/tests/withRouter'

    hooks:
      snippets:
        useLoad:
          trigger: ul
          snippet: |-
            const [$1{value}, { fetching, error }] = useLoad($2, $3[$4])
          onExpand:
            command: imports.add
            args:
              value: useLoad
              from: 'hooks/useExecute'
