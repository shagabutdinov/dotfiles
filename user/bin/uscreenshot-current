#!/usr/bin/env ruby

date = `date --rfc-3339=seconds`.strip().gsub(/[^\w:-]/, '_')

active_window = `xprop -root | grep "_NET_ACTIVE_WINDOW(WINDOW)"`.strip()[40..-1]

`import -window #{active_window} -display :0.0 -screen "screen_#{date}.png"`

if $?.exitstatus == 0
	`notify-send "screenshot made"`
else
	`notify-send "failed to make screenshot"`
end
