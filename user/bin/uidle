#!/usr/bin/env ruby

keys = [
  'ctrl+1',
  'ctrl+2',
  'ctrl+3',
  'ctrl+4',
  'ctrl+5',

  'alt+i',
  'alt+k',
  'alt+j',
  'alt+l',

  'ctrl+i',
  'ctrl+k',
  'ctrl+j',
  'ctrl+l',

  'ctrl+alt+i',
  'ctrl+alt+k',
  'ctrl+alt+j',
  'ctrl+alt+l',

  'ctrl+period',
  'ctrl+comma',
]

sleep(5)

loop do
  if rand > 0.75
    initial = `xdotool getmouselocation`.match(/x:(\d+) y:(\d+)/).to_a
    (rand * 5).to_i.times {
      `xdotool mousemove #{rand * 1000} #{rand * 1000}`
      # if rand > 0.95
      #   `xdotool click 1`
      # end

      sleep(rand)
    }

    `xdotool mousemove #{initial[1]} #{initial[2]} click 1`
    sleep rand
  else
    (rand * 7).to_i.times {
      `xdotool key #{keys.sample}`
      sleep(rand * 0.25)
    }
  end

  sleep(rand * 9)
end
